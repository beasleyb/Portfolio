/*!
* Custom JS for Brandon Beasley's portfolio
* www.brandonbeasley.site
* Free to use under the MIT license.
* http://www.opensource.org/licenses/mit-license.php
* 5/12/2016
*/
"use strict";function _init(){a11y(),validate()}function a11y(){}function validate(){function _init(){var formValues={name:$nameField.val(),email:$emailField.val(),message:$messageField.val()};formValidation(formValues)}function formValidation(formValues){var validationResults={name:nameValidation(formValues.name),email:emailValidation(formValues.email),message:messageValidation(formValues.message)},proceed=!0;for(var field in validationResults)if(!validationResults[field]){proceed=!1;var failedField=$("#"+field+"Field");failedField.hasClass("error")||failedField.addClass("error")}proceed?submitForm(formValues):validate()}function nameValidation(name){var result=name.length>=2&&name.length<=30;return result}function emailValidation(email){var emailPattern=new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,15})+$/),result=emailPattern.test(email);return result}function messageValidation(message){var result=message.length>=30&&message.length<=1e3;return result}function fieldKeyup(field){var fieldValue=field.val(),fieldID=field.attr("id"),keyupActions={nameField:function(){return nameValidation(fieldValue)},emailField:function(){return emailValidation(fieldValue)},messageField:function(){return messageValidation(fieldValue)}};if("function"!=typeof keyupActions[fieldID])throw new Error("Invalid field.");var result=keyupActions[fieldID]();!result&&field.hasClass("success")?field.toggleClass("error success"):result&&field.hasClass("error")&&field.toggleClass("error success")}function submitForm(data){$.ajax({type:"POST",url:"php/mailer.php",data:data,success:function(){$contactForm[0].reset()},error:function(errorThrown){console.log(errorThrown)}})}var $contactForm=$("#contactForm",$(document)),$nameField=$("#nameField",$contactForm),$emailField=$("#emailField",$contactForm),$messageField=$("#messageField",$contactForm);$contactForm.on("submit",function(e){e.preventDefault(),_init()}),$(".error, .success",$contactForm).on("keyup change paste",function(){fieldKeyup($(this))})}$(function(){_init()});